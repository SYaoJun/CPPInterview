# 多级页表
> [参考视频](https://www.bilibili.com/video/BV1d64y1X74w/?spm_id_from=333.999.0.0&vd_source=e9f1ced96b267a4bc02ec41ca31d850a)
- va虚拟地址
- pv物理地址
## 局部性
- 时间局部性
- 空间局部性
## 虚拟地址到物理地址存在的问题
1. 虚拟地址大，物理地址小。
2. 多个进程可能映射到相同的物理地址。
## 用哈希表去记录va到pa的映射
> 每个字节的va映射到pa
- 优点
1. 解决了地址冲突
2. 数组越界
- 缺点
1. 哈希所需空间为(1+2k)N
2. 虚拟地址的局部性转变成物理地址之后被破坏
## 优化哈希表映射
- 把单字节映射转换为页表级映射
- va = pa + offset，定义域
## 多级页表出现的原因
- 虚拟地址空间非常稀疏，可能存在.text，heap，stack等，其他区域都是未使用的。在每个使用的区域内部才具有局部性。区域间一般是不具备局部性的。
- 因此使用多级页表减小存储的大小。